<div class="add-inventory-container">
  <mat-card class="add-inventory-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>add_box</mat-icon>
        {{ 'inventory.add.title' | translate }}
      </mat-card-title>
      <mat-card-subtitle>
        {{ 'inventory.add.subtitle' | translate }}
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      @if (inventoryStore.addInventoryStatus().error) {
        <div class="error-message" role="alert">
          <mat-icon>error</mat-icon>
          <span>{{ inventoryStore.addInventoryStatus().error }}</span>
          <button 
            mat-icon-button 
            (click)="clearError()"
            [attr.aria-label]="'common.close' | translate">
            <mat-icon>close</mat-icon>
          </button>
        </div>
      }

      <editable-inventory
        (submitItems)="onSubmitItems($event)"
        (editedItems)="itemEdited.set(true)"
        [submitButton]="submitButton"
      />
    </mat-card-content>

    <mat-card-actions align="end">
      <button 
        mat-button 
        (click)="goBack()"
        [disabled]="inventoryStore.addInventoryStatus().isLoading">
        {{ 'common.cancel' | translate }}
      </button>
    </mat-card-actions>
  </mat-card>

  @if (inventoryStore.addInventoryStatus().isLoading) {
    <div class="loading-overlay">
      <mat-spinner></mat-spinner>
      <p>{{ 'inventory.add.adding' | translate }}</p>
    </div>
  }
</div> 